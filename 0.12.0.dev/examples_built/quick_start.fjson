{"parents": [], "prev": null, "next": null, "title": "Getting started with Dipy", "meta": {}, "body": "<div class=\"section\" id=\"getting-started-with-dipy\">\n<span id=\"example-quick-start\"></span><h1>Getting started with Dipy<a class=\"headerlink\" href=\"#getting-started-with-dipy\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>In diffusion MRI (dMRI) usually we use three types of files, a Nifti file with the\ndiffusion weighted data, and two text files one with b-values and\none with the b-vectors.</p>\n<p>In Dipy we provide tools to load and process these files and we also provide\naccess to publically available datasets for those who haven&#8217;t acquired yet\ntheir own datasets.</p>\n<p>With the following commands we can download a dMRI dataset</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">fetch_sherbrooke_3shell</span>\n<span class=\"n\">fetch_sherbrooke_3shell</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>By default these datasets will go in the .dipy folder inside your home directory.\nHere is how you can access them.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">os.path</span> <span class=\"k\">import</span> <span class=\"n\">expanduser</span><span class=\"p\">,</span> <span class=\"n\">join</span>\n<span class=\"n\">home</span> <span class=\"o\">=</span> <span class=\"n\">expanduser</span><span class=\"p\">(</span><span class=\"s1\">&#39;~&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">dname</span></code> holds the directory name where the 3 files are in.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dname</span> <span class=\"o\">=</span> <span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">home</span><span class=\"p\">,</span> <span class=\"s1\">&#39;.dipy&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;sherbrooke_3shell&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Here, we show the complete filenames of the 3 files</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fdwi</span> <span class=\"o\">=</span> <span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">dname</span><span class=\"p\">,</span> <span class=\"s1\">&#39;HARDI193.nii.gz&#39;</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">fdwi</span><span class=\"p\">)</span>\n\n<span class=\"n\">fbval</span> <span class=\"o\">=</span> <span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">dname</span><span class=\"p\">,</span> <span class=\"s1\">&#39;HARDI193.bval&#39;</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">fbval</span><span class=\"p\">)</span>\n\n<span class=\"n\">fbvec</span> <span class=\"o\">=</span> <span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">dname</span><span class=\"p\">,</span> <span class=\"s1\">&#39;HARDI193.bvec&#39;</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">fbvec</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">/home/username/.dipy/sherbrooke_3shell/HARDI193.nii.gz</span></code></p>\n<p><code class=\"docutils literal\"><span class=\"pre\">/home/username/.dipy/sherbrooke_3shell/HARDI193.bval</span></code></p>\n<p><code class=\"docutils literal\"><span class=\"pre\">/home/username/.dipy/sherbrooke_3shell/HARDI193.bvec</span></code></p>\n<p>Now, that we have their filenames we can start checking what these look like.</p>\n<p>Let&#8217;s start first by loading the dMRI datasets. For this purpose, we\nuse a python library called <a class=\"reference external\" href=\"http://nipy.org/nibabel\">nibabel</a> which enables us to read and write\nneuroimaging-specific file formats.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">nibabel</span> <span class=\"k\">as</span> <span class=\"nn\">nib</span>\n<span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fdwi</span><span class=\"p\">)</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_data</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">data</span></code> is a 4D array where the first 3 dimensions are the i, j, k voxel\ncoordinates and the last dimension is the number of non-weighted (S0s) and\ndiffusion-weighted volumes.</p>\n<p>We can very easily check the size of <code class=\"docutils literal\"><span class=\"pre\">data</span></code> in the following way:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">(128,</span> <span class=\"pre\">128,</span> <span class=\"pre\">60,</span> <span class=\"pre\">194)</span></code></p>\n<p>We can also check the dimensions of each voxel in the following way:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"o\">.</span><span class=\"n\">get_zooms</span><span class=\"p\">()[:</span><span class=\"mi\">3</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">(2.0,</span> <span class=\"pre\">2.0,</span> <span class=\"pre\">2.0)</span></code></p>\n<p>We can quickly visualize the results using <a class=\"reference external\" href=\"http://matplotlib.sourceforge.net\">matplotlib</a>. For example,\nlet&#8217;s show here the middle axial slices of volume 0 and volume 10.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">matplotlib.pyplot</span> <span class=\"k\">as</span> <span class=\"nn\">plt</span>\n\n<span class=\"n\">axial_middle</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">//</span> <span class=\"mi\">2</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"s1\">&#39;Showing the datasets&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplot</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">set_axis_off</span><span class=\"p\">()</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">[:,</span> <span class=\"p\">:,</span> <span class=\"n\">axial_middle</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"n\">cmap</span><span class=\"o\">=</span><span class=\"s1\">&#39;gray&#39;</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"s1\">&#39;lower&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplot</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">set_axis_off</span><span class=\"p\">()</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">[:,</span> <span class=\"p\">:,</span> <span class=\"n\">axial_middle</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"n\">cmap</span><span class=\"o\">=</span><span class=\"s1\">&#39;gray&#39;</span><span class=\"p\">,</span> <span class=\"n\">origin</span><span class=\"o\">=</span><span class=\"s1\">&#39;lower&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">()</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">savefig</span><span class=\"p\">(</span><span class=\"s1\">&#39;data.png&#39;</span><span class=\"p\">,</span> <span class=\"n\">bbox_inches</span><span class=\"o\">=</span><span class=\"s1\">&#39;tight&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"figure align-center\" id=\"id2\">\n<img alt=\"../../_images/data.png\" src=\"../../_images/data.png\" />\n<p class=\"caption\"><span class=\"caption-text\"><strong>Showing the middle axial slice without (left) and with (right) diffusion weighting</strong>.</span></p>\n</div>\n<p>The next step is to load the b-values and b-vectors from the disk using\nthe function <code class=\"docutils literal\"><span class=\"pre\">read_bvals_bvecs</span></code>.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dipy.io</span> <span class=\"k\">import</span> <span class=\"n\">read_bvals_bvecs</span>\n<span class=\"n\">bvals</span><span class=\"p\">,</span> <span class=\"n\">bvecs</span> <span class=\"o\">=</span> <span class=\"n\">read_bvals_bvecs</span><span class=\"p\">(</span><span class=\"n\">fbval</span><span class=\"p\">,</span> <span class=\"n\">fbvec</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>In Dipy, we use an object called <code class=\"docutils literal\"><span class=\"pre\">GradientTable</span></code> which holds all the acquision\nspecific parameters, e.g. b-values, b-vectors, timings and others. To create this\nobject you can use the function <code class=\"docutils literal\"><span class=\"pre\">gradient_table</span></code>.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.gradients</span> <span class=\"k\">import</span> <span class=\"n\">gradient_table</span>\n<span class=\"n\">gtab</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table</span><span class=\"p\">(</span><span class=\"n\">bvals</span><span class=\"p\">,</span> <span class=\"n\">bvecs</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Finally, you can use <code class=\"docutils literal\"><span class=\"pre\">gtab</span></code> (the GradientTable object) to show some information about the\nacquisition parameters</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">gtab</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<dl class=\"docutils\">\n<dt>B-values shape (193,)</dt>\n<dd>min 0.000000\nmax 3500.000000</dd>\n<dt>B-vectors shape (193, 3)</dt>\n<dd>min -0.964050\nmax 0.999992</dd>\n</dl>\n<p>You, can also see the b-values using:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">gtab</span><span class=\"o\">.</span><span class=\"n\">bvals</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"p\">[</span>    <span class=\"mf\">0.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>\n  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>\n  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>\n  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>\n  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>\n  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>\n  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">1000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>\n  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>\n  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>\n  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>\n  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>\n  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>\n  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">2000.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>\n  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span>  <span class=\"mf\">3500.</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>Or, for example the 10 first b-vectors using:</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">gtab</span><span class=\"o\">.</span><span class=\"n\">bvecs</span><span class=\"p\">[:</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"p\">:])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"n\">array</span><span class=\"p\">([[</span> <span class=\"mf\">0.</span>        <span class=\"p\">,</span>  <span class=\"mf\">0.</span>        <span class=\"p\">,</span>  <span class=\"mf\">0.</span>        <span class=\"p\">],</span>\n       <span class=\"p\">[</span> <span class=\"mf\">0.999979</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.00504001</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.00402795</span><span class=\"p\">],</span>\n       <span class=\"p\">[</span> <span class=\"mf\">0.</span>        <span class=\"p\">,</span>  <span class=\"mf\">0.999992</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.00398794</span><span class=\"p\">],</span>\n       <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mf\">0.0257055</span> <span class=\"p\">,</span>  <span class=\"mf\">0.653861</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.756178</span>  <span class=\"p\">],</span>\n       <span class=\"p\">[</span> <span class=\"mf\">0.589518</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.769236</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.246462</span>  <span class=\"p\">],</span>\n       <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mf\">0.235785</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.529095</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.815147</span>  <span class=\"p\">],</span>\n       <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mf\">0.893578</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.263559</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.363394</span>  <span class=\"p\">],</span>\n       <span class=\"p\">[</span> <span class=\"mf\">0.79784</span>   <span class=\"p\">,</span>  <span class=\"mf\">0.133726</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.587851</span>  <span class=\"p\">],</span>\n       <span class=\"p\">[</span> <span class=\"mf\">0.232937</span>  <span class=\"p\">,</span>  <span class=\"mf\">0.931884</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.278087</span>  <span class=\"p\">],</span>\n       <span class=\"p\">[</span> <span class=\"mf\">0.93672</span>   <span class=\"p\">,</span>  <span class=\"mf\">0.144139</span>  <span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.31903</span>   <span class=\"p\">]])</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">gtab</span></code>  can be used to tell what part of the data is the S0 volumes\n(volumes which correspond to b-values of 0).</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"n\">S0s</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"p\">[:,</span> <span class=\"p\">:,</span> <span class=\"p\">:,</span> <span class=\"n\">gtab</span><span class=\"o\">.</span><span class=\"n\">b0s_mask</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>Here, we had only 1 S0 as we can verify by looking at the dimensions of S0s</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">S0s</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal\"><span class=\"pre\">(128,</span> <span class=\"pre\">128,</span> <span class=\"pre\">60,</span> <span class=\"pre\">1)</span></code></p>\n<p>Just, for fun let&#8217;s save this in a new Nifti file.</p>\n<div class=\"highlight-default\"><div class=\"highlight\"><pre><span></span><span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">(</span><span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">Nifti1Image</span><span class=\"p\">(</span><span class=\"n\">S0s</span><span class=\"p\">,</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">affine</span><span class=\"p\">),</span> <span class=\"s1\">&#39;HARDI193_S0.nii.gz&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Now, that we learned how to load dMRI datasets we can start the analysis.\nSee example <a class=\"reference internal\" href=\"../reconst_dti/#example-reconst-dti\"><span class=\"std std-ref\">Reconstruction of the diffusion signal with the Tensor model</span></a> to learn how to create FA maps.</p>\n<div class=\"admonition-example-source-code admonition\">\n<p class=\"first admonition-title\">Example source code</p>\n<p class=\"last\">You can download <a class=\"reference download internal\" href=\"../../_downloads/quick_start.py\" download=\"\"><code class=\"xref download docutils literal\"><span class=\"pre\">the</span> <span class=\"pre\">full</span> <span class=\"pre\">source</span> <span class=\"pre\">code</span> <span class=\"pre\">of</span> <span class=\"pre\">this</span> <span class=\"pre\">example</span></code></a>.\nThis same script is also included in the dipy source distribution under the\n<code class=\"file docutils literal\"><span class=\"pre\">doc/examples/</span></code> directory.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"]], "sourcename": "examples_built/quick_start.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Getting started with Dipy</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".rst", "current_page_name": "examples_built/quick_start", "sidebars": null, "customsidebar": null, "alabaster_version": "0.7.10"}