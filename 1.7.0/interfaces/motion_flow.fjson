{"parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "DIPY Workflows Interfaces"}], "prev": {"link": "../denoise_flow/", "title": "Denoising"}, "next": {"link": "../gibbs_unringing_flow/", "title": "Gibbs Unringing"}, "title": "Between-Volumes Motion Correction", "meta": {}, "body": "<section id=\"between-volumes-motion-correction\">\n<span id=\"motion-correction-flow\"></span><h1>Between-Volumes Motion Correction<a class=\"headerlink\" href=\"#between-volumes-motion-correction\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p>This tutorial walks through the steps to perform Between-Volumes Motion\nCorrection using DIPY.</p>\n<p>You can try this using your own data; we will be using the data in DIPY.\nYou can check how to <a class=\"reference internal\" href=\"../data_fetch/#data-fetch\"><span class=\"std std-ref\">fetch the DIPY data</span></a>.</p>\n<section id=\"motion-correction\">\n<h2>Motion Correction<a class=\"headerlink\" href=\"#motion-correction\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>During a dMRI acquisition, the subject motion inevitable. This motion implies\na misalignment between N volumes on a dMRI dataset. A common way to solve this\nissue is to perform a registration on each acquired volume to a\nreference b = 0. <a class=\"reference internal\" href=\"#jenkinsonsmith01\" id=\"id1\"><span>[JenkinsonSmith01]</span></a></p>\n<p>This preprocessing is an highly recommended step that should be executed before\nany dMRI dataset analysis.</p>\n<p>We will use the <code class=\"docutils literal notranslate\"><span class=\"pre\">sherbrooke_3shell</span></code> dataset in DIPY to showcase the motion\ncorrection process. As with any other workflow in DIPY, you can also use your\nown data!</p>\n<p>You may want to create an output directory to save the resulting corrected dataset:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">mkdir</span> <span class=\"n\">motion_output</span>\n</pre></div>\n</div>\n<p>To run the motion correction method, we need to specify the path of the input\ndata, b-vectors file and b-values file. This path may contain wildcards to process\nmultiple inputs at once. You can also specify the optional arguments. In this case,\nwe will be just specifying the output directory (<code class=\"docutils literal notranslate\"><span class=\"pre\">out_dir</span></code>). For more information,\nuse the help option (-h) to obtain all optional arguments.</p>\n<p>To run the motion correction on the data it suffices to execute the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">dipy_correct_motion</span></code> command, e.g.:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dipy_correct_motion</span> <span class=\"n\">data</span><span class=\"o\">/</span><span class=\"n\">sherbrooke_3shell</span><span class=\"o\">/</span><span class=\"n\">HARDI193</span><span class=\"o\">.</span><span class=\"n\">nii</span><span class=\"o\">.</span><span class=\"n\">gz</span>  <span class=\"n\">data</span><span class=\"o\">/</span><span class=\"n\">sherbrooke_3shell</span><span class=\"o\">/</span><span class=\"n\">HARDI193</span><span class=\"o\">.</span><span class=\"n\">bval</span> <span class=\"n\">data</span><span class=\"o\">/</span><span class=\"n\">sherbrooke_3shell</span><span class=\"o\">/</span><span class=\"n\">HARDI193</span><span class=\"o\">.</span><span class=\"n\">bvec</span> <span class=\"o\">--</span><span class=\"n\">out_dir</span> <span class=\"s2\">&quot;motion_output&quot;</span>\n</pre></div>\n</div>\n<p>This command will apply the motion correction procedure to the input MR image\nand write the artefact-free result to the <code class=\"docutils literal notranslate\"><span class=\"pre\">motion_output</span></code> directory.</p>\n<p>In case no output directory is specified, the corrected output volume\nis saved to the current directory by default.</p>\n<section id=\"references\">\n<h3>References<a class=\"headerlink\" href=\"#references\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<div role=\"list\" class=\"citation-list\">\n<div class=\"citation\" id=\"jenkinsonsmith01\" role=\"doc-biblioentry\">\n<span class=\"label\"><span class=\"fn-bracket\">[</span><a role=\"doc-backlink\" href=\"#id1\">JenkinsonSmith01</a><span class=\"fn-bracket\">]</span></span>\n<p>Jenkinson, M., Smith, S., 2001. A global optimisation\nmethod for robust affine registration of brain images. Med Image Anal 5\n(2), 143\u201356.</p>\n</div>\n</div>\n</section>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["interfaces/gibbs_unringing_flow", "Gibbs Unringing", "N", "next"], ["interfaces/denoise_flow", "Denoising", "P", "previous"]], "sourcename": "interfaces/motion_flow.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Between-Volumes Motion Correction</a><ul>\n<li><a class=\"reference internal\" href=\"#motion-correction\">Motion Correction</a><ul>\n<li><a class=\"reference internal\" href=\"#references\">References</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "interfaces/motion_flow", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}