{"parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "DIPY Workflows Interfaces"}], "prev": {"link": "../motion_flow/", "title": "Between-Volumes Motion Correction"}, "next": {"link": "../registration_flow/", "title": "Registration"}, "title": "Gibbs Unringing", "meta": {}, "body": "<section id=\"gibbs-unringing\">\n<span id=\"gibbs-unringing-flow\"></span><h1>Gibbs Unringing<a class=\"headerlink\" href=\"#gibbs-unringing\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p>This tutorial walks through the steps to perform Gibbs unringing using DIPY.</p>\n<p>You can try this using your own data; we will be using the data in DIPY.\nYou can check how to <a class=\"reference internal\" href=\"../data_fetch/#data-fetch\"><span class=\"std std-ref\">fetch the DIPY data</span></a>.</p>\n<section id=\"suppress-gibbs-oscillations\">\n<h2>Suppress Gibbs Oscillations<a class=\"headerlink\" href=\"#suppress-gibbs-oscillations\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Magnetic Resonance (MR) images are reconstructed from the Fourier coefficients\nof acquired k-space images. Since only a finite number of Fourier coefficients\ncan be acquired in practice, reconstructed MR images can be corrupted by Gibbs\nartefacts, which is manifested by intensity oscillations adjacent to edges of\ndifferent tissue types <a class=\"reference internal\" href=\"#veraart15\" id=\"id1\"><span>[Veraart15]</span></a>. Although this artefact affects MR images\nin general, in the context of diffusion-weighted imaging, Gibbs oscillations\ncan be magnified in derived diffusion-based estimates <a class=\"reference internal\" href=\"#veraart15\" id=\"id2\"><span>[Veraart15]</span></a>, <a class=\"reference internal\" href=\"#perrone15\" id=\"id3\"><span>[Perrone15]</span></a>.</p>\n<p>We will use the <code class=\"docutils literal notranslate\"><span class=\"pre\">tissue_data</span></code> dataset in DIPY to showcase the ability to\nremove Gibbs ringing artefacts. As with any other workflow in DIPY, you can\nalso use your own data!</p>\n<p>You may want to create an output directory to save the resulting Gibbs\nringing-free volume:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">mkdir</span> <span class=\"n\">gibbs_ringing_output</span>\n</pre></div>\n</div>\n<p>To run the Gibbs unringing method, we need to specify the path to the input\ndata. This path may contain wildcards to process multiple inputs at once.\nYou can also specify the optional arguments. In this case, we will be\nspecifying the number of processes (<code class=\"docutils literal notranslate\"><span class=\"pre\">num_processes</span></code>) and output directory\n(<code class=\"docutils literal notranslate\"><span class=\"pre\">out_dir</span></code>). The number of processes allows to exploit the available\ncomputational power and accelerate the processing. The maximum number of\nprocesses available depends on the CPU of the computer, so users are expected\nto set an appropriate value based on their platform. Set <code class=\"docutils literal notranslate\"><span class=\"pre\">num_processes</span></code> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code> to use all available cores.</p>\n<p>To run the Gibbs unringing on the data it suffices to execute the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">dipy_gibbs_ringing</span></code> command, e.g.:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dipy_gibbs_ringing</span> <span class=\"n\">data</span><span class=\"o\">/</span><span class=\"n\">tissue_data</span><span class=\"o\">/</span><span class=\"n\">t1_brain_denoised</span><span class=\"o\">.</span><span class=\"n\">nii</span><span class=\"o\">.</span><span class=\"n\">gz</span> <span class=\"o\">--</span><span class=\"n\">num_processes</span> <span class=\"mi\">4</span> <span class=\"o\">--</span><span class=\"n\">out_dir</span> <span class=\"s2\">&quot;gibbs_ringing_output&quot;</span>\n</pre></div>\n</div>\n<p>This command will apply the Gibbs unringing procedure to the input MR image\nand write the artefact-free result to the <code class=\"docutils literal notranslate\"><span class=\"pre\">gibbs_ringing_output</span></code> directory.</p>\n<p>In case no output directory is specified, the Gibbs artefact-free output volume\nis saved to the current directory by default.</p>\n<p>Note: Users are recommended to zoom on each image by clicking on them to see\nthe Gibbs unringing effect.</p>\n<table class=\"docutils align-default\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Before Gibbs unringing</p></th>\n<th class=\"head\"><p>After Gibbs unringing</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"https://github.com/dipy/dipy_data/blob/master/t1_brain_denoised_gibbs_unringing.png?raw=true\"><img alt=\"image1\" class=\"align-middle\" src=\"https://github.com/dipy/dipy_data/blob/master/t1_brain_denoised_gibbs_unringing.png?raw=true\" /></a></p></td>\n<td><p><a class=\"reference internal\" href=\"https://github.com/dipy/dipy_data/blob/master/t1_brain_denoised_gibbs_unringing_after.png?raw=true\"><img alt=\"image2\" class=\"align-middle\" src=\"https://github.com/dipy/dipy_data/blob/master/t1_brain_denoised_gibbs_unringing_after.png?raw=true\" /></a></p></td>\n</tr>\n</tbody>\n</table>\n<section id=\"references\">\n<h3>References<a class=\"headerlink\" href=\"#references\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<div role=\"list\" class=\"citation-list\">\n<div class=\"citation\" id=\"veraart15\" role=\"doc-biblioentry\">\n<span class=\"label\"><span class=\"fn-bracket\">[</span>Veraart15<span class=\"fn-bracket\">]</span></span>\n<span class=\"backrefs\">(<a role=\"doc-backlink\" href=\"#id1\">1</a>,<a role=\"doc-backlink\" href=\"#id2\">2</a>)</span>\n<p>Veraart, J., Fieremans, E., Jelescu, I.O., Knoll, F., Novikov, D.S.,\n2015. Gibbs Ringing in Diffusion MRI. Magn Reson Med 76(1): 301-314.\n<a class=\"reference external\" href=\"https://doi.org/10.1002/mrm.25866\">https://doi.org/10.1002/mrm.25866</a></p>\n</div>\n<div class=\"citation\" id=\"perrone15\" role=\"doc-biblioentry\">\n<span class=\"label\"><span class=\"fn-bracket\">[</span><a role=\"doc-backlink\" href=\"#id3\">Perrone15</a><span class=\"fn-bracket\">]</span></span>\n<p>Perrone, D., Aelterman, J., Piz\u030curica, A., Jeurissen, B., Philips, W.,\nLeemans A., 2015. The effect of Gibbs ringing artifacts on measures\nderived from diffusion MRI. Neuroimage 120, 441-455.\n<a class=\"reference external\" href=\"https://doi.org/10.1016/j.neuroimage.2015.06.068\">https://doi.org/10.1016/j.neuroimage.2015.06.068</a>.</p>\n</div>\n</div>\n</section>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["interfaces/registration_flow", "Registration", "N", "next"], ["interfaces/motion_flow", "Between-Volumes Motion Correction", "P", "previous"]], "sourcename": "interfaces/gibbs_unringing_flow.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Gibbs Unringing</a><ul>\n<li><a class=\"reference internal\" href=\"#suppress-gibbs-oscillations\">Suppress Gibbs Oscillations</a><ul>\n<li><a class=\"reference internal\" href=\"#references\">References</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "interfaces/gibbs_unringing_flow", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}